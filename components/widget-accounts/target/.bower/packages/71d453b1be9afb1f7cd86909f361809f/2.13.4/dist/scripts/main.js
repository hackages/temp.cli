/* Build with bb-lp-cli @ v1.7.1 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("core"),require("ui")):"function"==typeof define&&define.amd?define(["base","core","ui"],t):"object"==typeof exports?exports["module-accounts"]=t(require("base"),require("core"),require("ui")):e["module-accounts"]=t(e.base,e.core,e.ui)}(this,function(e,t,n){return function(e){function t(o){if(n[o])return n[o].exports;var c=n[o]={exports:{},id:o,loaded:!1};return (e[o].call(c.exports,c,c.exports,t), c.loaded=!0, c.exports)}var n={};return (t.m=e, t.c=n, t.p="", t(0))}([function(e,exports,t){t(34),e.exports=t(38)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,exports,t){var n=t(35);"string"==typeof n&&(n=[[e.id,n,""]]);t(37)(n,{});n.locals&&(e.exports=n.locals)},function(e,exports,t){exports=e.exports=t(36)(),exports.push([e.id,".lp-account-select .dropdown{width:100%}.lp-account-select button.dropdown-toggle .lp-acct-detail,.lp-account-select ul.dropdown-menu .lp-acct-detail{padding-top:7px;color:inherit}.lp-account-select button.dropdown-toggle .lp-acct-from,.lp-account-select ul.dropdown-menu .lp-acct-from{width:40px;font-size:90%;font-weight:700;padding-top:2px}.lp-account-select button.dropdown-toggle .lp-account-amount,.lp-account-select button.dropdown-toggle .lp-account-bal,.lp-account-select button.dropdown-toggle .lp-acct-name,.lp-account-select ul.dropdown-menu .lp-account-amount,.lp-account-select ul.dropdown-menu .lp-account-bal,.lp-account-select ul.dropdown-menu .lp-acct-name{color:inherit}.lp-account-select button.dropdown-toggle{text-align:left;border-radius:0;border:none;padding-top:15px;padding-bottom:15px}.lp-account-select button.dropdown-toggle .caret{position:absolute;top:45%;right:5px}.lp-account-select button.dropdown-toggle .lp-acct-name{font-weight:700}.lp-account-select ul.dropdown-menu .lp-acct-from span{visibility:hidden}.lp-account-select .lp-large-account-select-size ul.dropdown-menu li a,.lp-account-select .lp-small-account-select-size ul.dropdown-menu li a{padding:15px 25px 15px 12px}.lp-account-select .lp-normal-account-select-size button.dropdown-toggle .lp-account-bal,.lp-account-select .lp-normal-account-select-size button.dropdown-toggle .lp-acct-from,.lp-account-select .lp-normal-account-select-size button.dropdown-toggle .lp-acct-num,.lp-account-select .lp-normal-account-select-size ul.dropdown-menu .lp-acct-from,.lp-account-select .lp-small-account-select-size button.dropdown-toggle .lp-account-bal,.lp-account-select .lp-small-account-select-size button.dropdown-toggle .lp-acct-from,.lp-account-select .lp-small-account-select-size button.dropdown-toggle .lp-acct-num,.lp-account-select .lp-small-account-select-size ul.dropdown-menu .lp-acct-from{display:none}.lp-account-select .lp-normal-account-select-size button.dropdown-toggle .lp-account-amount,.lp-account-select .lp-normal-account-select-size button.dropdown-toggle .lp-acct-detail,.lp-account-select .lp-small-account-select-size button.dropdown-toggle .lp-account-amount,.lp-account-select .lp-small-account-select-size button.dropdown-toggle .lp-acct-detail{padding-top:0}.lp-payee-account-select .dropdown{width:100%}.lp-payee-account-select button.dropdown-toggle .lp-acct-detail,.lp-payee-account-select ul.dropdown-menu .lp-acct-detail{padding-top:7px;color:inherit}.lp-payee-account-select button.dropdown-toggle .lp-acct-from,.lp-payee-account-select ul.dropdown-menu .lp-acct-from{width:40px;font-size:90%;font-weight:700;padding-top:2px}.lp-payee-account-select button.dropdown-toggle .lp-account-amount,.lp-payee-account-select button.dropdown-toggle .lp-account-bal,.lp-payee-account-select button.dropdown-toggle .lp-acct-name,.lp-payee-account-select ul.dropdown-menu .lp-account-amount,.lp-payee-account-select ul.dropdown-menu .lp-account-bal,.lp-payee-account-select ul.dropdown-menu .lp-acct-name{color:inherit}.lp-payee-account-select button.dropdown-toggle{text-align:left;padding-top:15px;padding-bottom:15px}.lp-payee-account-select button.dropdown-toggle .caret{position:absolute;top:45%;right:5px}.lp-payee-account-select button.dropdown-toggle .lp-acct-name{font-weight:700}.lp-payee-account-select ul.dropdown-menu .lp-acct-from span{visibility:hidden}.lp-payee-account-select .input-group button.dropdown-toggle{border-bottom-left-radius:0;border-top-left-radius:0}.lp-payee-account-select .lp-large-account-select-size ul.dropdown-menu li a,.lp-payee-account-select .lp-small-account-select-size ul.dropdown-menu li a{padding:15px 25px 15px 12px}.lp-payee-account-select .lp-normal-account-select-size button.dropdown-toggle .lp-account-bal,.lp-payee-account-select .lp-normal-account-select-size button.dropdown-toggle .lp-acct-from,.lp-payee-account-select .lp-normal-account-select-size button.dropdown-toggle .lp-acct-num,.lp-payee-account-select .lp-normal-account-select-size ul.dropdown-menu .lp-acct-from,.lp-payee-account-select .lp-small-account-select-size button.dropdown-toggle .lp-account-bal,.lp-payee-account-select .lp-small-account-select-size button.dropdown-toggle .lp-acct-from,.lp-payee-account-select .lp-small-account-select-size button.dropdown-toggle .lp-acct-num,.lp-payee-account-select .lp-small-account-select-size ul.dropdown-menu .lp-acct-from{display:none}.lp-payee-account-select .lp-normal-account-select-size button.dropdown-toggle .lp-account-amount,.lp-payee-account-select .lp-normal-account-select-size button.dropdown-toggle .lp-acct-detail,.lp-payee-account-select .lp-small-account-select-size button.dropdown-toggle .lp-account-amount,.lp-payee-account-select .lp-small-account-select-size button.dropdown-toggle .lp-acct-detail{padding-top:0}.lp-simple-account-select .select,.lp-simple-account-select .select-list{position:relative;-webkit-touch-callout:none;-webkit-user-select:'none';-moz-user-select:'none';-ms-user-select:'none';user-select:'none'}.lp-simple-account-select .select-button{border:1px solid;border-radius:4px;background-color:inherit;cursor:pointer;display:block;outline:none;padding:1em 15px;position:relative;text-align:left;width:100%;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;-webkit-touch-callout:none}.lp-simple-account-select .select-button:active{background-color:inherit}.lp-simple-account-select .select-button-label{font-size:16px;margin:0}.lp-simple-account-select .select-button-placeholder{color:#999}.lp-simple-account-select .select-button-value{width:100%;font-size:16px;font-weight:700}.lp-simple-account-select .select-list{background-color:#fff;border-radius:3px;box-shadow:0 1px 4px -1px rgba(0,0,0,.5);overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:'none';-moz-user-select:'none';-ms-user-select:'none';user-select:'none'}.lp-simple-account-select .select-list-item{border-top:1px solid;cursor:pointer;outline:none;padding:10px 20px}.lp-simple-account-select .select-list-item:first-child{border-top:none}.lp-simple-account-select .select-list-item:active{background-color:#f2f2f2}.lp-simple-account-select .list-heading{cursor:default}.lp-simple-account-select .desktop .select-list{border-top:none;border-radius:0 0 3px 3px;left:0;margin-top:1px;right:0}.lp-simple-account-select .desktop .dropdown-list,.lp-simple-account-select .desktop .select-list{border:1px solid rgba(0,0,0,.35);box-shadow:0 1px 3px -2px rgba(0,0,0,.5);position:absolute;top:100%;z-index:1}.lp-simple-account-select .desktop .dropdown-list{border-radius:4px;margin-top:0}.lp-simple-account-select .desktop .select-button .lp-icon{margin:4px 0}.lp-simple-account-select .desktop .select-button .lp-icon.lp-icon-spinner2{margin:3px 0}.lp-simple-account-select .desktop .account-select-button-value{position:absolute;bottom:8px}.lp-simple-account-select .desktop .select-button-label.upper-label{position:absolute;margin-top:-6px;transition:margin-top .2s ease-out;font-size:12px}.lp-simple-account-select .desktop .account-balance{padding-right:45px}.lp-simple-account-select .desktop .select-list-item .account-balance{padding-right:inherit}.lp-simple-account-select .desktop .truncate{max-width:45%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.lp-simple-account-select .desktop .glyphicon-refresh-animate{animation:spin .7s infinite linear;-webkit-animation:spin2 .7s infinite linear}@-webkit-keyframes spin2{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes spin{0%{transform:scale(1) rotate(0deg)}to{transform:scale(1) rotate(1turn)}}.mobile-app .select-list{margin:10px;display:block}.mobile-app .lp-icon{display:none}@media only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:2),only screen and (min-device-pixel-ratio:2),only screen and (min-resolution:2dppx),only screen and (min-resolution:192dpi){.mobile-app .select-list-item{border-top-width:.5px}}.lp-panel-item .select-button{border:none}",""])},function(e,exports){e.exports=function(){var e=[];return (e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")}, e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},c=0;c<this.length;c++){var a=this[c][0];"number"==typeof a&&(o[a]=!0)}for(c=0;c<t.length;c++){var l=t[c];"number"==typeof l[0]&&o[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),e.push(l))}}, e)}},function(e,exports,t){function n(e,t){for(var n=0;n<e.length;n++){var o=e[n],c=u[o.id];if(c){c.refs++;for(var a=0;a<c.parts.length;a++)c.parts[a](o.parts[a]);for(;a<o.parts.length;a++)c.parts.push(l(o.parts[a],t))}else{for(var i=[],a=0;a<o.parts.length;a++)i.push(l(o.parts[a],t));u[o.id]={id:o.id,refs:1,parts:i}}}}function o(e){for(var t=[],n={},o=0;o<e.length;o++){var c=e[o],a=c[0],l=c[1],i=c[2],r=c[3],s={css:l,media:i,sourceMap:r};n[a]?n[a].parts.push(s):t.push(n[a]={id:a,parts:[s]})}return t}function c(){var e=document.createElement("style"),t=f();return (e.type="text/css", t.appendChild(e), e)}function a(){var e=document.createElement("link"),t=f();return (e.rel="stylesheet", t.appendChild(e), e)}function l(e,t){var n,o,l;if(t.singleton){var u=v++;n=m||(m=c()),o=i.bind(null,n,u,!1),l=i.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(),o=s.bind(null,n),l=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=c(),o=r.bind(null,n),l=function(){n.parentNode.removeChild(n)});return (o(e), function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else l()})}function i(e,t,n,o){var c=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=h(t,c);else{var a=document.createTextNode(c),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(a,l[t]):e.appendChild(a)}}function r(e,t){var n=t.css,o=t.media;t.sourceMap;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function s(e,t){var n=t.css,o=(t.media,t.sourceMap);o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var c=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(c),a&&URL.revokeObjectURL(a)}var u={},d=function(e){var t;return function(){return("undefined"==typeof t&&(t=e.apply(this,arguments)), t)}},p=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=d(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var c=o(e);return (n(c,t), function(e){for(var a=[],l=0;l<c.length;l++){var i=c[l],r=u[i.id];r.refs--,a.push(r)}if(e){var s=o(e);n(s,t)}for(var l=0;l<a.length;l++){var r=a[l];if(0===r.refs){for(var d=0;d<r.parts.length;d++)r.parts[d]();delete u[r.id]}}})};var h=function(){var e=[];return function(t,n){return (e[t]=n, e.filter(Boolean).join("\n"))}}()},function(e,exports,t){var n;(function(e){n=function(require,exports,e){"use strict";e.name="module-accounts";var n=t(40),o=t(41),c=t(42),a=t(43),l=t(45),i=t(47),r=t(50),s=t(52),u=[o.name,c.name,a.name,l.name,i.name,r.name,s.name];u.push(t(57).name),e.exports=n.createModule(e.name,u).value("groupsTimeout",6e5).value("accountsTimeout",1e4).provider(t(63)).value("customerId","3").service(t(66)).service(t(68))}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(39)(e))},function(e,exports){e.exports=function(e){return (e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1), e)}},function(t,exports){t.exports=e},function(e,exports){e.exports=t},function(e,exports){e.exports=n},function(e,exports,t){var n;(function(e){n=function(require,exports,e){"use strict";e.name="account-select";var n=t(40),o=t(41),c=t(42),a=[o.name,c.name];e.exports=n.createModule(e.name,a).directive(t(44))}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(39)(e))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40).ng;exports.lpAccountsSelect=function(e,t,o,c){e.put("$accountSelectTemplate.html",'<div class="clearfix"><div class="pull-left lp-acct-detail"><div class="clearfix"><div class="pull-left"><div class="lp-acct-name"><span>{{option.alias}} <span ng-if="option.shortReferenceId">({{ option.shortReferenceId }})</span></span></div><div class="lp-acct-num"><span lp-aria-number="option.identifier"></span></div><div class="lp-custom-fields"><div ng-repeat="f in option.customFields track by $index" ng-class="\'lp-cf-\' + f">{{option[f]}}</div></div></div></div></div><div ng-hide="option.hideAmounts" class="pull-right text-right"><div class="h4 lp-account-amount"><span class="sr-only" lp-i18n="Account balance"></span><span lp-format-amount="option" lp-balance-update="lp-balance-update" ng-model="option"></span></div><div class="h6 lp-account-bal" ng-if="option.preferredBalance !== \'current\'"><small lp-i18n="Current:"></small> <span lp-amount="option.bookedBalance" lp-amount-currency="option.currency"/></div><div class="h6 lp-account-bal" ng-if="option.preferredBalance === \'current\'"><small lp-i18n="Available:"></small> <span lp-amount="option.availableBalance" lp-amount-currency="option.currency"/></div></div>'),e.put("$cardsSelectTemplate.html",'<div class="clearfix"><div class="card-name-info hidden-sm"><div class="clearfix"><div class="pull-left"><div class="lp-acct-name"><span>{{option.alias}}</span></div><div class="lp-acct-num"><small lp-i18n="card ending"></small> <span lp-aria-number="option.cardNumber"></span></div><div class="lp-custom-fields"><div ng-repeat="f in option.customFields track by $index" ng-class="\'lp-cf-\' + f">{{option[f]}}</div></div></div></div></div><div class="card-balance-info text-right text-uppercase h6"><div><small ng-if="option.preferredBalance === \'current\'" lp-i18n="Current balance"></small><br/><small ng-if="option.preferredBalance !== \'current\'" lp-i18n="Available credit"></small><br/><span class="h4" lp-format-amount="option" lp-balance-update="lp-balance-update" ng-model="option"></span></div><div ng-if="option.preferredBalance === \'current\'"><small lp-i18n="Available credit"></small> <span lp-amount="option.availableBalance" lp-amount-currency="option.currency"/></div><div ng-if="option.preferredBalance !== \'current\'"><small lp-i18n="Current balance"></small><br/><span lp-amount="option.bookedBalance" lp-amount-currency="option.currency"/></div></div></div>');var a=function(e){var t="cards"===e?"$cardsSelectTemplate.html":"$accountSelectTemplate.html";return['<div class="lp-account-select">','<div class="clearfix" dropdown-select ng-model="model" options="account as account for account in accounts"','option-template-url="'+t+'" ng-change="changed()" lp-element-resize="resize(data)"','empty-placeholder-text="Select an account...">',"</div>","</div>"].join("")},l=function(e){return e>400?"lp-large-account-select-size":e>300?"lp-normal-account-select-size":"lp-small-account-select-size"},i=function(e,i,r,s){function u(){t(function(){e.$apply()})}r.prefferedBalanceView&&!r.preferredBalanceView&&(r.preferredBalanceView=r.prefferedBalanceView),e.preferredBalance=r.preferredBalanceView||"current",i.html(a(r.type));var d=r.customFields;if(d&&(d=d.split(",")),o(i.contents())(e),r.designatedClass){var p=n.element(i.children()[0]);p.addClass(r.designatedClass)}s.$render=function(){var t=s.$modelValue,o=e.accounts;o&&o.length>0?n.forEach(o,function(n){n.preferredBalance=e.preferredBalance,d&&!n.customFields&&(n.customFields=d),t&&t.id===n.id&&(e.model=n)}):e.model=null,u()},e.changed=function(){s.$setViewValue(e.model)},e.$watch("lpAccounts",function(t){e.accounts=t||[],s.$render()}),c.subscribe("accounts-dropdown.select-account",function(e){s.$modelValue=e,s.$render()}),e.resize=function(e){e.element.removeClass("lp-large-account-select-size"),e.element.removeClass("lp-normal-account-select-size"),e.element.removeClass("lp-small-account-select-size"),e.element.addClass(l(e.width))}};return{restrict:"EA",replace:!0,require:"ngModel",scope:{lpAccounts:"="},link:i}},exports.lpAccountsSelect.$inject=["$templateCache","$timeout","$compile","lpCoreBus"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;(function(e){n=function(require,exports,e){"use strict";e.name="payee-account-select";var n=t(40),o=t(41),c=t(42),a=[o.name,c.name];e.exports=n.createModule(e.name,a).directive(t(46))}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(39)(e))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40).ng;exports.lpPayeeAccountSelect=function(e,t){e.put("$payeeAccountSelect.html",'<div class="clearfix"><div class="pull-left lp-acct-detail"><div class="clearfix"><div class="pull-left"><div class="lp-acct-name"><span>{{option.alias}}</span><span class="lp-acct-num">{{ option.shortIdentifier }}</span></div><div class="lp-custom-fields"><div ng-repeat="f in option.customFields track by $index" ng-class="\'lp-cf-\' + f">{{option[f]}}</div></div></div></div></div><div ng-hide="option.hideAmounts" class="pull-right text-right"><div class="lp-account-amount"><span class="sr-only" lp-i18n="Account balance"></span><span lp-format-amount="option" lp-balance-update="lp-balance-update" ng-model="option"></span></div></div></div>');var o=function(){var e="$payeeAccountSelect.html";return['<div class="lp-payee-account-select">',"<div ng-class=\"{ 'input-group': lpSelectLabel }\">",'<span class="input-group-addon" ng-if="lpSelectLabel">{{ lpSelectLabel }}</span>','<div class="clearfix" dropdown-select ng-model="model" options="account as account for account in accounts"','option-template-url="'+e+'" ng-change="changed()" lp-element-resize="resize(data)"','empty-placeholder-text="Select your destination account...">',"</div>","</div>","</div>"].join("")},c=function(e){return e>400?"lp-large-account-select-size":e>300?"lp-normal-account-select-size":"lp-small-account-select-size"},a=function(e,a,l,i){l.prefferedBalanceView&&!l.preferredBalanceView&&(l.preferredBalanceView=l.prefferedBalanceView),e.preferredBalance=l.preferredBalanceView||"current",a.html(o());var r=l.customFields;if(r&&(r=r.split(",")),t(a.contents())(e),l.designatedClass){var s=n.element(a.children()[0]);s.addClass(l.designatedClass)}i.$render=function(){var t=i.$modelValue,o=e.accounts;o&&o.length>0?n.forEach(o,function(n){n.preferredBalance=e.preferredBalance,n.shortIdentifier=" * "+n.identifier.substr(-4),r&&!n.customFields&&(n.customFields=r),t&&t.id===n.id&&(e.model=n)}):e.model=null},e.changed=function(){i.$setViewValue(e.model)},e.$watch("lpAccounts",function(t){e.accounts=t||[],i.$render()}),e.resize=function(e){e.element.removeClass("lp-large-account-select-size"),e.element.removeClass("lp-normal-account-select-size"),e.element.removeClass("lp-small-account-select-size"),e.element.addClass(c(e.width))}};return{restrict:"EA",replace:!0,require:"ngModel",scope:{lpAccounts:"=",lpSelectLabel:"@"},link:a}},exports.lpPayeeAccountSelect.$inject=["$templateCache","$compile"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;(function(e){n=function(require,exports,e){"use strict";e.name="credential-input";var n=t(40),o=t(42),c=[o.name];e.exports=n.createModule(e.name,c).directive(t(48))}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(39)(e))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";exports.lpCredentialInput=function(e){function n(e){e&&e.inputFieldType&&(e.inputFieldType=o[e.inputFieldType],e.inputFieldType===o.CHECKBOX&&(e.fieldValue=[]))}var o={TEXT:"text",PASSWORD:"password",OPTIONS:"select",LOGIN:"text",CHECKBOX:"checkbox",RADIO:"radio",URL:"text",HIDDEN:"hidden",IMAGE_URL:"img",CONTENT_URL:"text",CUSTOM:"text",CLUDGE:"text",TOKEN:"text",IMAGE_DATA:"imgd"};return (e.put("$credentialInput.html",t(49)), {restrict:"A",scope:{credential:"=lpCredentialInput"},template:e.get("$credentialInput.html"),link:function(e,t,o,c){n(e.credential),e.handleMultiCheckbox=function(t){for(var n=!1,o=0;o<e.credential.fieldValue.length;o++)if(e.credential.fieldValue[o]===t){n=!0,e.credential.fieldValue.splice(o,1);break}n||e.credential.fieldValue.push(t)}}})},exports.lpCredentialInput.$inject=["$templateCache"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";return'<div ng-switch on="credential.inputFieldType"><div ng-switch-when="password"><input type="password" class="form-control" ng-model="credential.fieldValue" aria-label="{{credential.inputFieldLabel}}" /></div><div ng-switch-when="hidden"><input type="hidden" class="form-control" ng-model="credential.fieldValue" aria-label="{{credential.inputFieldLabel}}" /></div><div ng-switch-when="select"><div dropdown-select="dropdown-select" ng-model="credential.fieldValue" options="option as option for option in credential.options"></div></div><div ng-switch-when="checkbox"><div ng-repeat="option in credential.options"><div lp-custom-checkbox="" ng-click="handleMultiCheckbox(option)" aria-label="{{option}}">{{option}}</div></div></div><div ng-switch-when="radio"><div ng-repeat="option in credential.options"><div lp-custom-radio="" ng-model="credential.fieldValue" name="radio-{{ credential.id }}" value="{{ option }}">{{ option }}</div></div></div><div ng-switch-when="img"><img ng-src="{{credential.metaData}}" alt="{{credential.inputFieldlabel}}" /><br /><br /><div lp-custom-radio="" ng-model="credential.fieldValue" name="radio-{{credential.id}}"" value="true" class="radio-inline">Yes</div><div lp-custom-radio="" ng-model="credential.fieldValue" name="radio-{{credential.id}}" value="false" class="radio-inline">No</div></div><div ng-switch-when="imgd"><img ng-src="data:{{credential.metaData}}" alt="{{credential.inputFieldlabel}}" /><br /><br /><div lp-custom-radio="" ng-model="credential.fieldValue" name="radio-{{credential.id}}"" value="true" class="radio-inline">Yes</div><div lp-custom-radio="" ng-model="credential.fieldValue" name="radio-{{credential.id}}" value="false" class="radio-inline">No</div></div><div ng-switch-default><input type="text" class="form-control" ng-model="credential.fieldValue" aria-label="{{credential.inputFieldLabel}}" /></div></div>'}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;(function(e){n=function(require,exports,e){"use strict";e.name="format-amount";var n=t(40),o=[];e.exports=n.createModule(e.name,o).directive(t(51))}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(39)(e))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";exports.lpFormatAmount=function(e,t){return{restrict:"A",scope:{account:"=lpFormatAmount"},link:function(n,o,c){n.$watch("account",function(n){var c=[];c.available=n.availableBalance,c.current=n.bookedBalance;var a=t.getPreferenceFromParents("preferredBalanceView")||"current",l=e.formatCurrency(c[a],n.currency);l=l.replace(/(\d*)$/,'<span class="decimals">$1</span>'),o.html(l)})}}},exports.lpFormatAmount.$inject=["lpCoreI18n","widget"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;(function(e){n=function(require,exports,e){"use strict";function n(){}e.name="simple-account-select";var o=t(40),c=t(41),a=t(42),l=t(53),i=[c.name,l.name,a.name];e.exports=o.createModule(e.name,i).service(t(55)).directive(t(56)).run(n)}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(39)(e))},function(e,exports,t){var n;(function(e){n=function(require,exports,e){"use strict";function n(){}e.name="account-select-list";var o=t(40),c=t(41),a=[c.name];e.exports=o.createModule(e.name,a).directive(t(54)).run(n)}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(39)(e))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";exports.lpAccountSelectList=function(e){return{restrict:"E",scope:{model:"=",options:"="},replace:!0,template:function(){return['<ul class="account-select-list select-list dropdown-list dropdown-menu" role="menu">','<li ng-if="hasHeading(account)" ng-repeat-start="account in model.accounts track by $index" class="account-select-account select-list-item list-heading">{{account}}</li>','<li ng-if="!hasHeading(account)" role="menuitem" class="account-select-account select-list-item" ng-repeat-end ng-click="onClick(account)" ng-class="{\'select-list-item-selected\': account.account.id === model.selected.account.id}" tabindex="0">','<div class="account-select-account-name clearfix">','<span class="account-description truncate pull-left">{{account.description}}</span>','<span class="account-mask pull-left">({{account.accountMask}})</span>','<span class="account-balance pull-right" lp-amount="account.balance" lp-amount-currency="account.currencyCode"></span>',"</div>","</li>","</ul>"].join("")},link:function(t){var n,o=t.options.isMobileApp;t.onClick=function(e){t.select(e)},t.select=function(e){t.model.selected=e,t.model.opened=!1,t.$parent.onSelect({selectedAccount:e.account}),o&&(n.sync(),n.action("select"))},t.hasHeading=function(e){return"string"==typeof e},o&&(n=e(t))}}},exports.lpAccountSelectList.$inject=["lpMobileComponent"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";exports.lpMobileComponent=function(e){return function(t){function n(e){a||(a=!0,t.model=e.model,t.$digest(),a=!1)}function o(){a=!0,e.publish(c,{model:t.model}),a=!1}var c="sync."+t.options.id,a=!1;return (e.subscribe(c,n), {action:function(n){var o=t.options.id+"."+n;e.publish(o)},sync:function(){o()}})}},exports.lpMobileComponent.$inject=["lpCoreBus"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";exports.lpSimpleAccountSelect=function(e){return{restrict:"E",scope:{model:"=",options:"=",onSelect:"&"},replace:!0,template:function(){return['<div class="lp-simple-account-select">','<div class="account-select select" data-id="{{options.id}}" ng-class="{desktop: !options.isMobileApp}">','<div data-role="account-select-components" dropdown on-toggle="toggle(open)">','<button class="account-select-button select-button" dropdown-toggle>','<span ng-if="!model.loading">','<span class="account-select-button-label select-button-label lp-form-label pull-left" ng-class="{\'upper-label\': model.selected}">{{options.label}}</span>','<span ng-if="model.selected" class="account-select-button-value select-button-value lp-button-caption pull-left">','<span class="account-description truncate pull-left">{{model.selected.description}}</span>','<span class="account-mask pull-left">({{model.selected.accountMask}})</span>','<span class="account-balance pull-right" lp-amount="model.selected.balance" lp-amount-currency="model.selected.currencyCode"></span>',"</span>",'<i class="lp-icon pull-right" ng-class="caret()"></i>','<span class="account-select-button-placeholder select-button-label-placeholder lp-form-placeholder pull-right" ng-if="!model.selected">{{options.placeholder}}</span>',"</span>",'<span ng-if="model.loading">','<span class="account-select-button-label select-button-label lp-form-label pull-left">Loading...</span>','<i class="lp-icon lp-icon-spinner2 glyphicon-refresh-animate pull-right"></i>',"</span>","</button>",'<lp-account-select-list model="model" options="options" ng-if="!options.isMobileApp && !model.loading"></lp-account-select-list>',"</div>","</div>","</div>"].join("")},link:function(t){var n,o=t.options.isMobileApp;t.close=function(){t.model.opened=!1},t.open=function(){t.model.opened=!0,o&&(n.sync(),n.action("open"))},t.toggle=function(e){e?t.open():t.close()},t.caret=function(){return t.model.opened?"lp-icon-caret-up":"lp-icon-caret-down"},o&&(n=e(t))}}},exports.lpSimpleAccountSelect.$inject=["lpMobileComponent"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;(function(e){n=function(require,exports,e){"use strict";e.name="module-accounts-deprecated";var n=t(40);e.exports=n.createModule(e.name,[]).factory(t(58)).factory(t(59)).factory(t(60)).factory(t(61)).factory(t(62))}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(39)(e))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40);exports.AccountsChartModel=function(e,t){var o=function(e){n.utils.deprecate("AccountsChartModel is deprecated."),this.accountsChartModel=t.getInstance({endpoint:e.accountsChartEndpoint,urlVars:{accountId:e.accountId}}),this.chartData=null,this.error=!1};return (o.prototype.load=function(e){var t,n=this;return (t=n.accountsChartModel.read(e).success(function(e){n.chartData=e}), t.error(function(e){e.errors&&(n.error=e.errors[0].code)}), t)}, {getInstance:function(e){return new o(e)}})},exports.AccountsChartModel.$inject=["$rootScope","httpService"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40);exports.AssetsModel=function(e,t,o,c,a,l,i){var r=function(e){n.utils.deprecate("AssetsModel is deprecated. It is now part of widget-accounts");var t=this;e.assetsEndpoint=a.resolvePortalPlaceholders(e.assetsEndpoint),t.assetsResource=c(e.assetsEndpoint),t.groupsEnabled=!!e.groupsEndpoint,t.groupsEnabled&&(e.groupsEndpoint=a.resolvePortalPlaceholders(e.groupsEndpoint),t.groupsResource=c(e.groupsEndpoint)),t.filterByGroupCode=e.groupCodeFilter,t.accounts=null,t.groups=null,t.assetCollection=[],t.error=!1,l.subscribe("launchpad-retail:ACCOUNT_BALANCE_CHANGED",function(e){null!==t.accounts&&t.load()})};return (r.prototype.load=function(){var e=i.defer(),t=this;return (t.assetsResource.get().$promise.then(function(n){t.accounts=n,l.publish("launchpad-retail.accountsLoaded",n["current-account"]),t.groupsResource?t.groupsResource.query().$promise.then(function(n){t.groups=n,t.configureAssetCollection(),e.resolve()}):(t.configureAssetCollection(),e.resolve())}), e.promise)}, r.prototype.configureAssetCollection=function(){var e=this;if(e.groupsEnabled)for(var t,n=0;n<e.groups.length;n++){t={title:e.groups[n].defaultTitle,code:e.groups[n].code,accounts:[],isCollapsed:!1};for(var o in e.accounts)e.accounts.hasOwnProperty(o)&&o===e.groups[n].code&&(t.accounts=e.checkExternalAccountVisibility(e.accounts[o]));if(t.accounts.length>0){for(var c=0;c<t.accounts.length;c++)e.formatAccountBalance(t.accounts[c]),e.configurePreviousBalanceDelta(t.accounts[c]);e.assetCollection.push(t)}}else for(var a in e.accounts)if(e.accounts.hasOwnProperty(a))for(var l=0;l<e.accounts[a].length;l++)e.formatAccountBalance(e.accounts[a][l]),e.configurePreviousBalanceDelta(e.accounts[a][l]),e.assetCollection.push(e.accounts[a][l])}, r.prototype.checkExternalAccountVisibility=function(e){
return a.filter(e,function(e){return!e.accountServicer||e.accountServicer.display})}, r.prototype.getPending=function(e){return e.bookedBalance-e.availableBalance}, r.prototype.configurePreviousBalanceDelta=function(e){var t=this;t.previousBalances?(t.previousBalances[e.id]>e.availableBalance?e.delta=-1:t.previousBalances[e.id]<e.availableBalance?e.delta=1:e.delta=0,t.previousBalances[e.id]=e.availableBalance):(t.previousBalances=[],e.delta=0,t.previousBalances[e.id]=e.availableBalance)}, r.prototype.findById=function(e){var t,n=this;if(n.groupsEnabled){for(var o=0;o<n.assetCollection.length;o++)for(var c=0;c<n.assetCollection[o].accounts.length;c++)if(n.assetCollection[o].accounts[c].id===e){t=n.assetCollection[o].accounts[c];break}}else for(var a=0;a<n.assetCollection.length;a++)if(n.assetCollection[a].id===e){t=n.assetCollection[a];break}return t}, r.prototype.getGroupTotal=function(e){for(var t,n,o=0,c=0;c<e.accounts.length;c++)t=e.accounts[c],o+=t.availableBalance,n=t.currency;return{totalBalance:o,currency:n}}, r.prototype.formatAccountBalance=function(e){e.availableBalance=parseFloat(e.availableBalance),e.bookedBalance=parseFloat(e.bookedBalance)}, {getInstance:function(e){return new r(e)}})},exports.AssetsModel.$inject=["$rootScope","accountsTimeout","groupsTimeout","$resource","lpCoreUtils","lpCoreBus","$q"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40);exports.CardsModel=function(e,t){var o=function(o){n.utils.deprecate("CardsModel is deprecated. It is now part of widget-accounts");var c=this;o.cardsEndpoint=e.resolvePortalPlaceholders(o.cardsEndpoint),c.cards=[],c.selected={},c.cardsService=t(o.cardsEndpoint,{},{update:{method:"PUT"}})};return (o.prototype.load=function(){var e=this;return e.cardsService.query({},function(t){e.cards=t}).$promise}, o.prototype.loadCardDetails=function(e){var t=this;return t.cardsService.get({id:e},function(e){t.selected=e}).$promise}, o.prototype.loadCardLoyaltyDetails=function(e){var t=this;return (e||(e=t.selected.id), t.cardsService.get({id:e,noun:"loyalty"},function(e){t.selected.loyalty=e.loyalty}).$promise)}, o.prototype.findById=function(e){for(var t,n=this,o=0;o<n.cards.length;o++)if(n.cards[o].id===e){t=n.cards[o];break}return t}, {getInstance:function(e){return new o(e)}})},exports.CardsModel.$inject=["lpCoreUtils","$resource"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40);exports.dynamicCredentialInput=function(e){return (n.utils.deprecate("dynamicCredentialInput is deprecated. Use lp-credential-input"), e.put("credentialInput.html",'<div ng-switch on="credential.inputFieldType"><div ng-switch-when="text"><input type="text" class="form-control" ng-model="credential.fieldValue" aria-label="{{credential.inputFieldLabel}}" /></div><div ng-switch-when="password"><input type="password" class="form-control" ng-model="credential.fieldValue" aria-label="{{credential.inputFieldLabel}}" /></div><div ng-switch-when="hidden"><input type="hidden" class="form-control" ng-model="credential.fieldValue" aria-label="{{credential.inputFieldLabel}}" /></div><div ng-switch-when="select"><div dropdown-select="dropdown-select" ng-model="credential.fieldValue" options="option as option for option in credential.options"></div></div><div ng-switch-when="checkbox" class="checkbox"><div ng-repeat="option in credential.options"><label><input type="checkbox" ng-click="handleMultiCheckbox(option)" aria-label="{{option}}" />{{option}}</label></div></div><div ng-switch-when="radio" class="radio"><div ng-repeat="option in credential.options"><label><input type="radio" ng-model="credential.fieldValue" name="radio-{{credential.id}}" value="{{option}}" aria-label="{{option}}" />{{option}}</label></div></div><div ng-switch-when="img"><img ng-src="{{credential.metaData}}" alt="{{credential.inputFieldlabel}}" /><br /><br /><label class="radio-inline"><input type="radio" ng-model="credential.fieldValue" name="radio-{{credential.id}} value="true" aria-label="Yes" />Yes</label><label class="radio-inline"><input type="radio" ng-model="credential.fieldValue" name="radio-{{credential.id}} value="false" aria-label="False" />No</label></div><div ng-switch-when="imgd"><img ng-src="data:{{credential.metaData}}" alt="{{credential.inputFieldlabel}}" /><br /><br /><label class="radio-inline"><input type="radio" ng-model="credential.fieldValue" name="radio-{{credential.id}} value="true" aria-label="Yes" />Yes</label><label class="radio-inline"><input type="radio" ng-model="credential.fieldValue" name="radio-{{credential.id}} value="false" aria-label="False" />No</label></div></div>'), {restrict:"A",replace:!0,require:"ngModel",scope:{credential:"="},template:e.get("credentialInput.html"),link:function(e,t,n,o){var c={TEXT:"text",PASSWORD:"password",OPTIONS:"select",LOGIN:"text",CHECKBOX:"checkbox",RADIO:"radio",URL:"text",HIDDEN:"hidden",IMAGE_URL:"img",CONTENT_URL:"text",CUSTOM:"text",CLUDGE:"text",TOKEN:"text",IMAGE_DATA:"imgd"},a=function(){l(e.credential)};e.handleMultiCheckbox=function(t){for(var n=!1,o=0;o<e.credential.fieldValue.length;o++)if(e.credential.fieldValue[o]===t){n=!0,e.credential.fieldValue.splice(o,1);break}n||e.credential.fieldValue.push(t)};var l=function(e){e.inputFieldType=c[e.inputFieldType],e.inputFieldType===c.CHECKBOX&&(e.fieldValue=[])};a()}})},exports.dynamicCredentialInput.$inject=["$templateCache"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40);exports.FinancialInstituteModel=function(e,t,o){n.utils.deprecate("FinancialInstituteModel is deprecated. Use one in widget-external-accounts or split it to separate module.");var c=function(e){var n=this;n.enableGrouping=e.enableGrouping,e.financialInstitutesEndpoint=o.resolvePortalPlaceholders(e.financialInstitutesEndpoint),n.financialInstitutesService=t(e.financialInstitutesEndpoint),e.membershipRequestsEndpoint=o.resolvePortalPlaceholders(e.membershipRequestsEndpoint),n.membershipRequestsService=t(e.membershipRequestsEndpoint),n.selected={},n.selectedMembership={},n.financialInstitutes=[],n.membershipRequests=[],n.errors=[],n.warnings=[]};return (c.prototype.searchFinancialInstitutes=function(e,t){var n=this;e.search="search";var o=n.financialInstitutesService.query(e).$promise;return (o.then(function(e){if(t)for(var o=0;o<e.length;o++)n.financialInstitutes.push(e[o]);else n.financialInstitutes=e},function(e){n.addError({captionCode:"badConnection"})}), o)}, c.prototype.setSelected=function(e){var t=this;t.selected=e}, c.prototype.loadMembershipRequests=function(){var e=this,t=e.membershipRequestsService.query().$promise;return (t.then(function(t){e.membershipRequests=t},function(){e.addError({captionCode:"badConnection"})}), t)}, c.prototype.loadMembershipRequestByID=function(e){var t=this,n=t.membershipRequestsService.get({id:e}).$promise;return (n.then(function(e){t.selectedMembership=e},function(){t.addError({captionCode:"badConnection"})}), n)}, c.prototype.getRequiredCredentials=function(){var e=this,t={id:e.selected.id,credentials:"credentials"},n=e.financialInstitutesService.query(t).$promise;return (n.then(function(t){e.selected.requiredUserCredentials=t},function(t){e.addError({captionCode:"badConnection"})}), n)}, c.prototype.createMembershipRequest=function(e){var t=this,n=new t.membershipRequestsService;n.institutionId=e.id,n.credentials=[];for(var o=0;o<e.requiredUserCredentials.length;o++){var c={};c.credentialId=e.requiredUserCredentials[o].id,c.value=e.requiredUserCredentials[o].fieldValue,n.credentials.push(c)}var a=n.$save();return (a.then(function(e){t.selectedMembership=e},function(){t.addError({captionCode:"invalidCredentials"})}), a)}, c.prototype.updateMembershipRequest=function(e){var t=this,n=new t.membershipRequestsService;n.institutionId=e.institutionId,n.credentials=[];for(var o=0;o<t.selected.requiredUserCredentials.length;o++){var c={};c.credentialId=t.selected.requiredUserCredentials[o].id,c.value=t.selected.requiredUserCredentials[o].fieldValue,n.credentials.push(c)}var a=n.$save({id:e.id,credentials:"credentials"});return (a.then(function(e){t.selectedMembership=e},function(e){401===e.status?t.addError({captionCode:"invalidCredentials"}):t.addError({captionCode:"badConnection"})}), a)}, c.prototype.addError=function(e){for(var t=this,n=!1,o=0;o<t.errors.length;o++)t.errors[o].captionCode===e.captionCode&&(n=!0);n||t.errors.push(e)}, c.prototype.addWarning=function(e){for(var t=this,n=!1,o=0;o<t.warnings.length;o++)t.warnings[o].captionCode===e.captionCode&&(n=!0);n||t.warnings.push(e)}, c.prototype.clearErrors=function(){var e=this;e.errors=[]}, c.prototype.clearWarnings=function(){var e=this;e.warnings=[]}, {getInstance:function(e){return new c(e)}})},exports.FinancialInstituteModel.$inject=["httpService","$resource","lpCoreUtils"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(64);exports.lpAccounts=function(e){var t={};this.setConfig=function(e){t=e||{}},this.$get=function(e,o){return (t.$http=e, t.lpCoreError=o, new n(t))},this.$get.$inject=["$http","lpCoreError"]},exports.lpAccounts.$inject=["lpCoreUtils"],exports.AccountsModel=exports.lpAccounts}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n="accountsEndpoint",o="defaultAccount",c=t(65),a={},l=t(40).utils,i=function(e,t,n){var o,c;return (n=n||"*", t=parseInt(t,10)||0, e?t?(c=l.range(t).map(function(){return n}).join(""),o=new RegExp("^.{0,"+t+"}","i"),e.replace(o,c)):e:"")},r=function(e){this.accounts=[],this.error=!1,this.setConfig(e),this.$http=e.$http,this.lpCoreError=e.lpCoreError};l.assign(r.prototype,{setConfig:function(e){e&&e[n]&&(e[n]=l.resolvePortalPlaceholders(e[n])),this.config=e},getAttribute:function(e){return this.config&&this.config[e]},load:function(e){var t=this.getAttribute(n);return (t||this.lpCoreError.throwException(new Error(["lpAccounts module:",n,"is not configured."].join(" "))), a[t]=this.$http.get(t).then(c).then(function(t){return this.refreshAccounts(t,e)}.bind(this)), a[t])},getAll:function(e){return this.load(e)},pluckDefaultAccount:function(e){var t=l(e);return t.first()},getDefaultAccountBban:function(){return this.getAttribute(o)},configureAccountIdentifiers:function(e){var t=this,n={EU:"IBAN",US:"BBAN","en-US":"BBAN"},o=function(e){return t.config[e]||l.getPagePreference(e)||l.getPortalProperty(e)},c=o("locale");c&&n[c]||(c="EU"),e.accountIdentification&&l.forEach(e.accountIdentification,function(t){t.scheme===n[c]&&(!o("hideAccount")&&o("maskAccount")?e.identifier=i(t.id,o("maskAccount")):o("hideAccount")||o("maskAccount")||(e.identifier=t.id))})},findById:function(e){return this.accounts.filter(function(t){return t.id===e})[0]},findByAccountNumber:function(e){return this.accounts.filter(function(t){return t.bban===e})[0]},getPending:function(e){return e.bookedBalance-e.availableBalance},getGroupSize:function(e){for(var t=0,n=0;n<this.accounts.length;n++)this.accounts[n].groupCode===e.code&&t++;return t},configurePreviousBalanceDeltas:function(e){var t=this;t.previousBalances?(t.previousBalances[e.id]>e.availableBalance?e.delta=-1:t.previousBalances[e.id]<e.availableBalance?e.delta=1:e.delta=0,t.previousBalances[e.id]=e.availableBalance):(t.previousBalances=[],e.delta=0,t.previousBalances[e.id]=e.availableBalance)},refreshAccounts:function(e,t){t===!0&&(this.accounts=[]);for(var n=0;n<e.length;n++)this.configureAccountIdentifiers(e[n]),this.configurePreviousBalanceDeltas(e[n]),this.formatAccountBalance(e[n]),this.accounts.push(e[n]);return this.accounts},getGroupTotal:function(e){for(var t,n,o=0,c=0;c<this.accounts.length;c++)t=this.accounts[c],t.groupCode===e.code&&(o+=t.balance,n=t.currency);return{totalBalance:o,currency:n}},formatAccountBalance:function(e){e.availableBalance=parseFloat(e.availableBalance),e.bookedBalance=parseFloat(e.bookedBalance)},isExternalAccount:function(e){return e.accountServicer&&e.accountServicer.id}}),e.exports=r}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40).utils;e.exports=function(e){var t=e.data;return n.isPlainObject(t)?n(t).chain().values().flatten().value():t}}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40).utils,o=t(67),c=function(e){this.config={},this.lpAccounts=e,this.model={accounts:[],selected:{},selectedId:void 0}};c.$inject=["lpAccounts"];var a={_findAccountById:function(e){return n.find(this.model.accounts,{id:e})},_selectAccount:function(e){return (this.model.selected=this._findAccountById(this.model.selectedId)||e||{}, this.model)},_addAccounts:function(e){return (this.model.accounts=n.union(this.model.accounts,n.clone(e)), this.model.accounts)},_loadCallback:function(e){var t,c=this.getConfig("defaultAccountId"),a=n.parseBoolean(this.getConfig("showAllAccountsItem"))||!1;return (this._addAccounts(e), a&&(t=o.getItem(this.model.accounts),this.model.accounts.unshift(t)), this.model.selectedId=this.model.selectedId||t&&t.id||c, this._selectAccount(this.model.accounts[0]), this.model)},_errorCallback:function(e){return e},load:function(){return this.lpAccounts.load().then(this._loadCallback.bind(this),this._errorCallback.bind(this))},updateAccount:function(e){var t=this._findAccountById(e.id);return (n.assign(t,e), t)},onAccountSelected:function(e){var t=e.accountId;return (e.account&&e.account.id&&(this._addAccounts([e.account]),t=e.account.id), this.model.selectedId=t, this._selectAccount())},setConfig:function(e){return (this.config=n.mapValues(e,n.resolvePortalPlaceholders), this)},getConfig:function(e,t){return e&&n.isString(e)?this.config[e]||t:this.config}};n.assign(c.prototype,a),exports.lpAccountsModel=c}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40).utils,o="000-000-000",c={id:o,ids:"",hideAmounts:!0,currency:"",alias:"All Finances",availableBalance:"",bookedBalance:"",accountIdentification:[],identifier:""},a=function(e,t,o){return n.pluck(e,o||"alias").join((t||",")+" ")},l=function(e){var t=n.chain(e).pluck("currency").uniq().value();return 1===t.length?t[0]:!1},i=function(e,t){var o=n.pluck(e,t),c=0;return (n.isArray(o)&&n.forEach(o,function(e){var t=parseFloat(e)||0;c+=t}), c)},r=function(e){var t,o,c={};return e&&n.isArray(e)?(t=n.pluck(e,"id"),o=n.pluck(e,"alias"),t.forEach(function(e,t){c[e]=o[t]||"No Data"}),c):c},s=function(e){return n.pluck(e,"id").join(",")};exports.getItem=function(e){return (n.assign(c,{ids:s(e),identifier:a(e),accountsNames:r(e)}), l(e)&&n.assign(c,{availableBalance:i(e,"availableBalance"),bookedBalance:i(e,"bookedBalance"),currency:l(e),hideAmounts:!1}), c)}}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports,e){"use strict";var n=t(40).utils,o={url:"/v1/accounts/:accountId"},c=function(e,t){this.config={},this.error=t,this.http=e};c.$inject=["$http","lpCoreError"];var a={create:function(e){n.isObject(e)||this.error.throwException("No account provided to create")},read:function(e){return (e||this.error.throwException("No account id provided"), this.http({method:"GET",url:this.config.url.replace(":accountId",e)}).then(function(e){return e.data}))},update:function(e){return (n.isObject(e)||this.error.throwException("No account provided to update"), this.http({method:"PUT",url:this.config.url.replace(":accountId",e.id),data:e}).then(function(e){return e.data}))},"delete":function(e){e||this.error.throwException("No account id provided")},setConfig:function(e){return (this.config=n.chain(e).mapValues(n.resolvePortalPlaceholders).defaults(o).value(), this)},getConfig:function(e,t){return e&&n.isString(e)?this.config[e]||t:this.config}};n.assign(c.prototype,a),exports.lpAccountService=c}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}])});
//# sourceMappingURL=main.js.map